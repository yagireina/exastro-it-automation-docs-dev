
<!DOCTYPE html>

<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <title>はじめに &#8212; Documentation  ドキュメント</title>
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/option.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/exastro_documents.css?v=3" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/swagger/swagger-ui.css" />
    
    <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/sphinx_highlight.js"></script>
    <script src="../../../../_static/clipboard.min.js"></script>
    <script src="../../../../_static/copybutton.js"></script>
    <script src="../../../../_static/translations.js"></script>
    <script src="../../../../_static/jquery-3.6.3.min.js"></script>
    <script src="../../../../_static/exastro_documents.js?v=1"></script>
    <script src="../../../../_static/swagger/swagger-ui-bundle.js"></script>
    <script src="../../../../_static/swagger/swagger-ui-standalone-preset.js"></script>
    <link rel="shortcut icon" href="../../../../_static/favicon.ico"/>
    <link rel="index" title="索引" href="../../../../genindex.html" />
    <link rel="search" title="検索" href="../../../../search.html" /> 
  </head>
<body id="page" class="ja">


<div id="container">

<div id="header">
  <header class="divInner">
    <!-- Exastro logo -->
    <div id="logo"><a href="https://ita.exastro.org/"><img src="../../../../_static/img/exastro.svg" alt="Exastro"></a></div>
    <!-- Project name -->
    <div id="projectName"><a href="../../../../index.html">Documentation</a></div>
    <!-- Heaedr navigation -->
    <div id="headerSearch">
      <form class="search" action="../../../../search.html" method="get">
        <input type="text" name="q" aria-labelledby="searchlabel">
        <button type="submit" value="検索"><img src="../../../../_static/img/search.png" alt="検索"></button>
      </form>
    </div>
  </header>
</div><!-- End #header -->


<div id="toolbar">
  <div class="divInner">
    
    <div id="documentVersion">
      <dl>
        <dt>Document version</dt>
        <dd>
          <div>
            <select name="version" onchange="location.href=value;">
                file_path: 2.0/ja/contribute/development/client_setting
                  <option value="#"
                  selected
                  >current</option>
                file_path: 2.0/ja/contribute/development/client_setting
                  <option value="#"
                  selected
                  >2.0 (current)</option>
                file_path: 2.1/ja/contribute/development/client_setting
            </select>
          </div>
        </dd>
      </dl>
    </div>

    <div id="documentLanguage">
      <dl>
        <dt>Language</dt>
        <dd>
          <div>
            <select name="lang" onchange="location.href=value;">
                file_path: 2.0/ja/contribute/development/client_setting
                hasdoc: True
                  <option value="#"
                  selected
                  >日本語</option>
                file_path: 2.0/en/contribute/development/client_setting
                hasdoc: False
            </select>
          </div>
        </dd>
      </dl>
    </div>
    <div id="toolbarNavigation">
      <ul>
      </ul>
    </div>
  </div>
</div><!-- End #toolbar -->

<div id="sideMenu">

  <div id="menuButton"></div>
  
  <aside class="divInner">
    <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">Exastro IT Automation Documentation 2.0</a></li>
</ul>

    <!-- <ul>
      <li class="toctree-l1"><a class="reference internal" href="../../../../genindex.html">索引</a></li>
    </ul> -->
    
  </aside>
</div><!-- End #sideMenu -->


<div id="tableOfContents">
  <div id="tocButton"></div>
  <ul>
<li><a class="reference internal" href="#"><strong>はじめに</strong></a><ul>
<li><a class="reference internal" href="#id2">開発・試験環境全体図</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id3"><strong>事前準備</strong></a></li>
<li><a class="reference internal" href="#vpc"><strong>VPC準備手順</strong></a><ul>
<li><a class="reference internal" href="#vscode">VSCODEインストール・設定</a></li>
<li><a class="reference internal" href="#ssh">ssh鍵ファイルの配置</a></li>
<li><a class="reference internal" href="#id4">VSCODE接続先設定</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id5"><strong>開発サーバー準備手順</strong></a><ul>
<li><a class="reference internal" href="#github-personal-access-token">github personal access token払出</a></li>
<li><a class="reference internal" href="#git">git設定</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id6"><strong>開発ワークスペース準備手順</strong></a><ul>
<li><a class="reference internal" href="#id7">個人リポジトリ準備</a></li>
<li><a class="reference internal" href="#clone">開発サーバへCLONE</a></li>
<li><a class="reference internal" href="#new">ブランチの取込と切替:new:</a><ul>
<li><a class="reference internal" href="#exastro-suite">上流リポジトリ(exastro-suite)のブランチ取込</a></li>
<li><a class="reference internal" href="#id8">ブランチの切替</a></li>
</ul>
</li>
<li><a class="reference internal" href="#env-new">envファイルの作成:new:</a></li>
<li><a class="reference internal" href="#id9">VSCode ディレクトリ追加</a></li>
<li><a class="reference internal" href="#id10">開発コンテナ環境 起動確認</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id11"><strong>付録</strong></a><ul>
<li><a class="reference internal" href="#id12">VSCODEバージョン一覧</a></li>
</ul>
</li>
</ul>

</div>


<div id="contents">
<main class="divInner">

 <div id="breadcrumbs">
  <ul>
    <li><a href="../../../../index.html">HOME</a></li>
    
    <li><strong>はじめに</strong></li>
  </ul>
</div>

<div id="article">
<article class="divInner">
<div class="body" role="main">

  <section id="id1">
<h1><strong>はじめに</strong><a class="headerlink" href="#id1" title="この見出しへのパーマリンク">¶</a></h1>
<p>本手順は、ITA2.0の開発（Web,API）するための開発環境を構築する手順となります</p>
<dl class="field-list simple">
<dt class="field-odd">point_right<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<p>旧リポジトリ(it-automation2-test)より新しいリポジトリへ移行する場合は、<a class="reference external" href="/ExastroPlatform/開発環境/コンテナ解放">コンテナの解放</a>
を実施したのち、<a class="reference external" href="構築手順#開発ワークスペース準備手順">開発ワークスペース準備手順</a>から実施してください。</p>
<section id="id2">
<h2>開発・試験環境全体図<a class="headerlink" href="#id2" title="この見出しへのパーマリンク">¶</a></h2>
<figure class="align-default" id="id13">
<img alt="image.png" src="../../../../_images/62a98ce974a18b0047bb8ee7.png" />
<figcaption>
<p><span class="caption-text">image.png</span><a class="headerlink" href="#id13" title="この画像へのパーマリンク">¶</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="id3">
<h1><strong>事前準備</strong><a class="headerlink" href="#id3" title="この見出しへのパーマリンク">¶</a></h1>
<p>構築するにあたって、サーバーの払い出しを受ける必要があります。環境の管理者に依頼願います。
本手順を実施していくにあたり以下の情報等が必要となります。事前に準備（確認）をお願いします。</p>
<ul class="simple">
<li><p><strong>必要な情報</strong> | 必要な情報 | 備考 | | ————————————— |
—————————————————————————————————- | | 踏み台サーバーのIPアドレス
| 環境の管理者に確認 | | 踏み台サーバーの接続ユーザ |
環境の管理者に確認 | | 踏み台サーバーのポート番号(http) |
環境の管理者よりサーバー払い出し時に提供 | |
開発サーバーのIPアドレス | 環境の管理者よりサーバー払い出し時に提供
| | サーバーの接続鍵 | 環境の管理者より提供 | |
個人用のGithubアカウント |
<strong>※事前にGithubにアカウント登録してください</strong> | |
個人用のGithubパスワード |
手順の中でブラウザからgithub.comにサインインしますので、サインインできるようにしておいてください
| | 開発対象のexastro-suiteのリポジトリURL | 開発リーダーに確認 |
| 開発コンテナを開くためのディレクトリ | 開発リーダーに確認 |</p></li>
</ul>
</section>
<section id="vpc">
<h1><strong>VPC準備手順</strong><a class="headerlink" href="#vpc" title="この見出しへのパーマリンク">¶</a></h1>
<section id="vscode">
<h2>VSCODEインストール・設定<a class="headerlink" href="#vscode" title="この見出しへのパーマリンク">¶</a></h2>
<ul>
<li><p><strong>VSCODEインストール</strong> VSCODE ver <strong>1.68.0</strong>をインストールします
※
2022/06/14時点の最新版　<a class="reference external" href="#VSCODEバージョン一覧">※1.68.0以外をインストールしたいときは</a></p>
<p><strong>以下よりインストール</strong><a class="reference external" href="https://update.code.visualstudio.com/1.68.0/win32-x64-user/stable">https://update.code.visualstudio.com/1.68.0/win32-x64-user/stable</a></p>
<p>※既にインストール済みの方は、最新版に更新していてください</p>
</li>
<li><p><strong>VSCODE 自動更新の抑止</strong></p>
<ol class="arabic">
<li><p>VSCODEの「ファイル」⇒「ユーザ設定」⇒「設定」メニューを選択</p></li>
<li><p>「ユーザー」タブ　⇒　「アプリケーション」　⇒　「更新」</p></li>
<li><p>Modeを「<strong>manual</strong>」に変更</p>
<figure class="align-default" id="id14">
<img alt="setting1.png" src="../../../../_images/628754e974a18b0047bb8d23.png" />
<figcaption>
<p><span class="caption-text">setting1.png</span><a class="headerlink" href="#id14" title="この画像へのパーマリンク">¶</a></p>
</figcaption>
</figure>
</li>
<li><p>バージョンの確認
<strong>この設定後、「ヘルプ」⇒「バージョン情報」でVer.1.68.0になっていることを確認してください。
最新版にアップデートされている場合は、再度セットアップを実行してください。</strong><img alt="image.png" src="../../../../_images/62a7c79c74a18b0047bb8e75.png" /></p></li>
</ol>
</li>
<li><p><strong>VSCODE ターミナルの設定</strong>VSCODE上のターミナルでBSキーを使うと表示が崩れる事象を回避するため、以下の設定を行います</p>
<ol class="arabic simple">
<li><p>VSCODEのメニューの「ファイル」⇒「ユーザ設定」⇒「設定」メニューを選択</p></li>
<li><p>「ユーザー」タブ　⇒　検索欄<code class="docutils literal notranslate"><span class="pre">Local</span> <span class="pre">Echo</span> <span class="pre">Latency</span> <span class="pre">Threshold</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-1</span></code>に変更 <img alt="image1" src="../../../../_images/62a2d12d74a18b0047bb8ddb.png" /></p></li>
</ol>
</li>
<li><p><strong>VSCODE Remote Development(VSCODE拡張)のインストール</strong></p>
<ol class="arabic">
<li><p>VSCODEの以下の拡張機能をインストールします
※検索欄に<code class="docutils literal notranslate"><span class="pre">Remote</span></code>と入力すると素早く検索できます</p>
<ul class="simple">
<li><p>Remote Development</p></li>
<li><p>Remote - <a class="reference external" href="SSH:Editing">SSH:Editing</a> Configuration Files</p></li>
</ul>
<figure class="align-default" id="id15">
<img alt="setting2.png" src="../../../../_images/6287553674a18b0047bb8d24.png" />
<figcaption>
<p><span class="caption-text">setting2.png</span><a class="headerlink" href="#id15" title="この画像へのパーマリンク">¶</a></p>
</figcaption>
</figure>
</li>
<li><p>VSCODE Remote Developmentのインストールの確認
リモートエクスプローラーの選択肢に「SSH
Target」が<strong>入っている</strong>ことを確認してください <img alt="image2" src="../../../../_images/62a2ff1074a18b0047bb8dfd.png" /></p>
<p><strong>入っていない</strong>時は次の手順の「VSCODE Remote
Developmentの再インストール」を実施してください</p>
</li>
<li><p>VSCODE Remote Developmentの再インストール
<strong>先の手順</strong>で、リモートエクスプローラーの選択肢に「SSH
Target」が<strong>入っていない場合</strong>に本手順を<strong>実施</strong>します</p>
<p>左脇の「拡張機能」を選択して「Remote -
SSH」を選択後「アンインストール」をクリックします <img alt="image3" src="../../../../_images/62a2ffd474a18b0047bb8dfe.png" /></p>
<p>アンインストールすると、画面上の同じ箇所に「再読み込みが必要です」が表示されますので「再読み込みが必要です」をクリックします（VSCODEが再起動します）</p>
<p>VSCODE再起動後、「Remote - SSH」を再度インストールします
インストール後、リモートエクスプローラーの選択肢に「SSH
Target」が入っていることを再度確認してください</p>
</li>
</ol>
</li>
</ul>
</section>
<section id="ssh">
<h2>ssh鍵ファイルの配置<a class="headerlink" href="#ssh" title="この見出しへのパーマリンク">¶</a></h2>
<p>環境の管理者よりサーバー払い出し時に提供してもらった鍵ファイル(.pem)を以下のフォルダ配下に格納します
- VPCの格納先フォルダ
<code class="docutils literal notranslate"><span class="pre">${VPCアカウント}</span></code>は自身のアカウントで読み替えてください
<code class="docutils literal notranslate"><span class="pre">D:\Users\${VPCアカウント}\.ssh</span></code> ※
フォルダが存在しない場合はフォルダを作成して、格納してください</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>※ 既に格納済みの場合は改めて格納は不要ですが、その場合は鍵の格納先を読み替えて設定してください&lt;br&gt;
</pre></div>
</div>
</section>
<section id="id4">
<h2>VSCODE接続先設定<a class="headerlink" href="#id4" title="この見出しへのパーマリンク">¶</a></h2>
<ol class="arabic">
<li><p>.ssh:raw-latex:<cite>configファイルの編集画面起動</cite>
VSCODEで以下の操作を行います</p>
<ul class="simple">
<li><p>左脇のリモートエクスプローラのアイコンを選択</p></li>
<li><p>“SSH Targets”の欄の歯車マークをクリック</p></li>
<li><p>「<code class="docutils literal notranslate"><span class="pre">D:\Users\${VPCアカウント}\.ssh\config</span></code>」を選択
<img alt="setting3.png" src="../../../../_images/6287579874a18b0047bb8d25.png" /></p></li>
</ul>
</li>
<li><p>.ssh:raw-latex:<cite>configファイルの設定追加</cite> 以下の内容を追記します</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="na">Host relay-server</span>
<span class="w">  </span><span class="c1">#　踏み台サーバーのIPアドレスを指定</span>
<span class="w">  </span><span class="na">HostName 10.xxx.xxx.xxx</span>
<span class="w">  </span><span class="c1">#　踏み台サーバーの接続ユーザ</span>
<span class="w">  </span><span class="na">User centos</span>
<span class="w">  </span><span class="c1"># VPC上の鍵ファイルのパス</span>
<span class="w">  </span><span class="na">IdentityFile D</span><span class="o">:</span><span class="s">\Users\${VPCアカウント}\.ssh\xxxxx.pem</span>

<span class="na">Host develop-server</span>
<span class="w">  </span><span class="c1"># 払い出された開発サーバのIPアドレス</span>
<span class="w">  </span><span class="na">HostName 192.168.xxx.xxx</span>
<span class="w">  </span><span class="na">User almalinux</span>
<span class="w">  </span><span class="na">ProxyCommand ssh -W %h</span><span class="o">:</span><span class="s">%p relay-server</span>
<span class="w">  </span><span class="c1"># VPC上の鍵ファイルのパス</span>
<span class="w">  </span><span class="na">IdentityFile D</span><span class="o">:</span><span class="s">\Users\${VPCアカウント}\.ssh\xxxxx.pem</span>
</pre></div>
</div>
</li>
<li><p>接続確認 VSCODEで以下の操作を行い、開発サーバーに接続します</p>
<ul class="simple">
<li><p>リモートエクスプローラー（SSH
Targets）で「develop-server」右の「アイコン」（Connect to Host New
Window)をクリック <img alt="setting4.png" src="../../../../_images/628757d174a18b0047bb8d26.png" /></p></li>
<li><p>OSの選択で「Linux」を選択</p></li>
<li><p>左上の「エクスプローラ」を選択し「フォルダーを開く」を選択し、homeディレクトリ（デフォルト:/home/almalinux）で「OK」をクリック
<img alt="VSC_Folder_select.png" src="../../../../_images/628f271074a18b0047bb8d74.png" /></p></li>
</ul>
</li>
</ol>
</section>
</section>
<section id="id5">
<h1><strong>開発サーバー準備手順</strong><a class="headerlink" href="#id5" title="この見出しへのパーマリンク">¶</a></h1>
<section id="github-personal-access-token">
<h2>github personal access token払出<a class="headerlink" href="#github-personal-access-token" title="この見出しへのパーマリンク">¶</a></h2>
<ol class="arabic">
<li><p>以下のリンクを「新しいタブ」で開いてください
<a class="reference external" href="https://github.com/settings/tokens">https://github.com/settings/tokens</a></p></li>
<li><p>以下の画面が表示されますので、「Generate new token」をクリックします
<img alt="image4" src="../../../../_images/62a2f78274a18b0047bb8df4.png" /></p></li>
<li><p>パスワードの確認を求められますので、パスワードを入力します</p></li>
<li><p>New Personal access
token画面が表示されますので、以下の指定をして「Generate
token」（画面の下の方）をクリックします | 指定項目 | 指定値 | |
———- | ———————————————————————- | | Note |
tokenの名前（githubの一覧に出るだけなので何でもよい） | |
Expiration | tokenの有効期限特に問題なければ、「No
expiration」（無期限）を選択 | | Select scopes |
repoをチェックON　|</p>
<p>入力イメージ <img alt="image5" src="../../../../_images/62a2fa3374a18b0047bb8df6.png" /></p>
</li>
<li><p>「Generate token」クリック後に以下の画面が表示されますので、「ghp_＊＊＊＊」の部分を次の手順で使いますので控えておいてください
<img alt="image6" src="../../../../_images/62a2fabc74a18b0047bb8df7.png" /></p></li>
</ol>
</section>
<section id="git">
<h2>git設定<a class="headerlink" href="#git" title="この見出しへのパーマリンク">¶</a></h2>
<ol class="arabic">
<li><p>VSCODEでdevelop-serverに接続 リモートエクスプローラー(SSH
Target)のalmalinux脇のフォルダアイコンをクリックします ※
すでに接続済みの場合は、不要です <img alt="image7" src="../../../../_images/62a2f2f374a18b0047bb8dec.png" /></p></li>
<li><p>VSCODEでターミナル起動
VSCODEのメニューの「ターミナル」⇒「新しいターミナル」を選択します
<img alt="image8" src="../../../../_images/62a2f44a74a18b0047bb8dee.png" /></p></li>
<li><p>ターミナルで以下コマンドを実行
<code class="docutils literal notranslate"><span class="pre">${gitアカウント}</span></code>と<code class="docutils literal notranslate"><span class="pre">xxxxxxxxx&#64;ncontr.com</span></code>は自身の値を指定してください
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">config</span> <span class="pre">--global</span> <span class="pre">user.name</span> <span class="pre">&quot;${gitアカウント}&quot;</span>&#160;&#160;&#160;&#160; <span class="pre">git</span> <span class="pre">config</span> <span class="pre">--global</span> <span class="pre">user.email</span> <span class="pre">&quot;xxxxxxxxx&#64;ncontr.com&quot;</span></code></p></li>
<li><p>~/.netrcを作成</p>
<p>以下のコマンドを実行 <code class="docutils literal notranslate"><span class="pre">bash</span>&#160; <span class="pre">vi</span> <span class="pre">~/.netrc</span></code> .netrc
の内容（<code class="docutils literal notranslate"><span class="pre">ghp_**********</span></code>の部分は先の手順で取得したgithub
personal access tokenを設定します）
<code class="docutils literal notranslate"><span class="pre">text</span>&#160; <span class="pre">machine</span> <span class="pre">github.com</span>&#160; <span class="pre">login</span> <span class="pre">githubユーザ名</span>&#160; <span class="pre">password</span> <span class="pre">ghp_**********************************</span></code></p>
</li>
</ol>
</section>
</section>
<section id="id6">
<h1><strong>開発ワークスペース準備手順</strong><a class="headerlink" href="#id6" title="この見出しへのパーマリンク">¶</a></h1>
<p>以下は開発対象のリポジトリ毎に実施します</p>
<section id="id7">
<h2>個人リポジトリ準備<a class="headerlink" href="#id7" title="この見出しへのパーマリンク">¶</a></h2>
<ul>
<li><p>リポジトリのfork ※
以下はexastro-suite/<strong>exastro-it-automation</strong>のリポジトリになっています</p>
<p>別のリポジトリの場合は、開発リーダから指定された開発対象のexastro-suiteのリポジトリURLをforkして下さい</p>
<p>※
旧リポジトリ(exastro-suite/it-automation2-test)から変更する場合は、改めてforkしてください。</p>
<p><a class="reference external" href="https://github.com/exastro-suite/exastro-it-automation/fork">https://github.com/exastro-suite/exastro-it-automation/fork</a></p>
</li>
</ul>
</section>
<section id="clone">
<h2>開発サーバへCLONE<a class="headerlink" href="#clone" title="この見出しへのパーマリンク">¶</a></h2>
<ul>
<li><p>リポジトリのCLONE</p>
<p>VSCODEのターミナルで、以下コマンドを実行します ```bash #
自身のGitHubアカウントを変数に格納 # your-github-account
を自身のGitHubアカウント名に変更
MY_GITHUB_ACCOUNT=“your-github-account”</p>
<p># 開発リポジトリ名を変数に格納 #
開発リーダから聞いた開発対象のリポジトリ名を指定
REPONAME=“exastro-it-automation” ```</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># 作業用のディレクトリを作成 ※すでに作成済みの場合は、必要ありません</span>
mkdir<span class="w"> </span>-p<span class="w"> </span>~/<span class="si">${</span><span class="nv">MY_GITHUB_ACCOUNT</span><span class="si">}</span>

<span class="c1"># exastro-it-automation のフォークリポジトリをクローンする</span>
<span class="nb">cd</span><span class="w"> </span>~/<span class="si">${</span><span class="nv">MY_GITHUB_ACCOUNT</span><span class="si">}</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/<span class="si">${</span><span class="nv">MY_GITHUB_ACCOUNT</span><span class="si">}</span>/<span class="si">${</span><span class="nv">REPONAME</span><span class="si">}</span>.git

<span class="c1"># upstreamの設定</span>
<span class="nb">cd</span><span class="w"> </span>~/<span class="si">${</span><span class="nv">MY_GITHUB_ACCOUNT</span><span class="si">}</span>/<span class="si">${</span><span class="nv">REPONAME</span><span class="si">}</span>
git<span class="w"> </span>remote<span class="w"> </span>add<span class="w"> </span>upstream<span class="w"> </span>https://github.com/exastro-suite/<span class="si">${</span><span class="nv">REPONAME</span><span class="si">}</span>.git

<span class="c1"># 設定内容が反映されているのを確認</span>
git<span class="w"> </span>remote<span class="w"> </span>-v
</pre></div>
</div>
<p>結果表示イメージ
<code class="docutils literal notranslate"><span class="pre">origin</span>&#160; <span class="pre">https://github.com/[your-github-account]/exastro-it-automation.git</span> <span class="pre">(fetch)</span>&#160;&#160; <span class="pre">origin</span>&#160; <span class="pre">https://github.com/[your-github-account]/exastro-it-automation.git</span> <span class="pre">(push)</span>&#160;&#160; <span class="pre">upstream</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">https://github.com/exastro-suite/exastro-it-automation.git</span> <span class="pre">(fetch)</span>&#160;&#160; <span class="pre">upstream</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">https://github.com/exastro-suite/exastro-it-automation.git</span> <span class="pre">(push)</span></code></p>
</li>
</ul>
</section>
<section id="new">
<h2>ブランチの取込と切替:new:<a class="headerlink" href="#new" title="この見出しへのパーマリンク">¶</a></h2>
<p>fork後にcloneした環境では、デフォルトだとmainブランチ以外は取り込まれておりません。次の手順を実施して、ブランチの取り込みを行います。</p>
<p>※forkした際に、mainブランチのみのチェックをしなかった場合は、ブランチが反映済みとなっております。
以下のコマンドを入力して、対象のブランチがあれば取り込みは不要となります。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>branch
</pre></div>
</div>
<p>結果（2.0を開発対象とする場合の例）</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="mf">2.0</span>
  <span class="n">main</span>
</pre></div>
</div>
<section id="exastro-suite">
<h3>上流リポジトリ(exastro-suite)のブランチ取込<a class="headerlink" href="#exastro-suite" title="この見出しへのパーマリンク">¶</a></h3>
<ol class="arabic">
<li><p>「プル、プッシュ」「すべてのリモートからフェッチ」を選択します</p>
<figure class="align-default" id="id16">
<img alt="image.png" src="../../../../_images/62908c0f74a18b0047bb8d8f.png" />
<figcaption>
<p><span class="caption-text">image.png</span><a class="headerlink" href="#id16" title="この画像へのパーマリンク">¶</a></p>
</figcaption>
</figure>
</li>
<li><p>VSCODEでターミナルを起動し、forkしたローカルのリポジトリで以下のコマンドを実行します</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="o">-</span><span class="n">b</span> <span class="p">[</span><span class="n">取り込むブランチ</span><span class="p">]</span> <span class="n">upstream</span><span class="o">/</span><span class="p">[</span><span class="n">取り込むブランチ</span><span class="p">]</span>
<span class="n">git</span> <span class="n">branch</span> <span class="o">--</span><span class="n">unset</span><span class="o">-</span><span class="n">upstream</span>
</pre></div>
</div>
</li>
<li><p>VSCODEで当該リポジトリを最新表示します
以下の<img alt="image9" src="../../../../_images/62a6cd8074a18b0047bb8e62.png" />アイコンをクリック <img alt="image10" src="../../../../_images/62a6cd5374a18b0047bb8e61.png" /></p></li>
<li><p>VSCODE上に「ブランチの発行」のボタンが表示されますので、クリックします</p>
<figure class="align-default" id="id17">
<img alt="image.png" src="../../../../_images/634cdd9d38b48d50dc2cff84.png" />
<figcaption>
<p><span class="caption-text">image.png</span><a class="headerlink" href="#id17" title="この画像へのパーマリンク">¶</a></p>
</figcaption>
</figure>
</li>
<li><p>VSCODEのコマンドパレットにoriginとupstreamの選択がでますので<strong>originを選択</strong>します
するとforkしたリポジトリに[取り込んだブランチ]が作成されます</p>
<figure class="align-default" id="id18">
<img alt="image.png" src="../../../../_images/634cddbb38b48d50dc2cffb3.png" />
<figcaption>
<p><span class="caption-text">image.png</span><a class="headerlink" href="#id18" title="この画像へのパーマリンク">¶</a></p>
</figcaption>
</figure>
</li>
</ol>
</section>
<section id="id8">
<h3>ブランチの切替<a class="headerlink" href="#id8" title="この見出しへのパーマリンク">¶</a></h3>
<ol class="arabic simple">
<li><p>取り込んだブランチで、開発するブランチをVSCODEから選択します</p></li>
</ol>
<figure class="align-default" id="id19">
<img alt="image.png" src="../../../../_images/drawio.png" />
<figcaption>
<p><span class="caption-text">image.png</span><a class="headerlink" href="#id19" title="この画像へのパーマリンク">¶</a></p>
</figcaption>
</figure>
<p>選択対象は、「origin/xx.xx」を選択します。(upstreamは選択しません）</p>
<p>※ブランチの運用方法については、<a class="reference external" href="/ExastroPlatform/開発環境/github%20運用">/ExastroPlatform/開発環境/github
運用</a>を確認してください。</p>
</section>
</section>
<section id="env-new">
<h2>envファイルの作成:new:<a class="headerlink" href="#env-new" title="この見出しへのパーマリンク">¶</a></h2>
<ol class="arabic">
<li><p>devcontainerを起動する前に、envファイルを設定する必要があります。</p>
<p>※システムごとに使用する環境変数は、
<code class="docutils literal notranslate"><span class="pre">/home/almalinux/[Your</span> <span class="pre">GitHub</span> <span class="pre">Account]/exastro-it-automation/.devcontainer</span></code>内の
.envに記載する必要があります。
<code class="docutils literal notranslate"><span class="pre">.env.sample</span></code>の内容をもとに、.envファイルを作成して、起動してください。
先に起動してしまった場合は、再度rebuildを実行してください。</p>
<p>※.envは、gitには登録されませんが、他の名称だとgitに公開されます、秘匿情報を扱う場合は、gitに登録されないように注意してください。</p>
</li>
</ol>
</section>
<section id="id9">
<h2>VSCode ディレクトリ追加<a class="headerlink" href="#id9" title="この見出しへのパーマリンク">¶</a></h2>
<ol class="arabic">
<li><p>VSCODEのリモートエクスプローラー(SSH
Targets)でdevelop-server脇のアイコン（Connect to Host in New
Window）をクリックします</p>
<figure class="align-default" id="id20">
<img alt="setting7.png" src="../../../../_images/628d733a74a18b0047bb8d4b.png" />
<figcaption>
<p><span class="caption-text">setting7.png</span><a class="headerlink" href="#id20" title="この画像へのパーマリンク">¶</a></p>
</figcaption>
</figure>
</li>
<li><p>VSCODEの画面が新たに立ち上がります</p></li>
<li><p>VSCODEのエクスプローラー（左脇のアイコン）を選択し、「フォルダーを開く」ボタンをクリックします
<img alt="setting8.png" src="../../../../_images/628d74e374a18b0047bb8d4d.png" /></p></li>
<li><p>VSCODEの上部にディレクトリの選択が表示されますので、開発対象のコンテナを開くためのディレクトリを選択します
exastro-suite/<strong>exastro-it-automation</strong>のAPIを開発する際は以下を指定します
（<strong>画像と選択するディレクトリは違います</strong>）</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>/home/almalinux/${MY_GITHUB_ACCOUNT}/exastro-it-automation/.devcontainer/ita-api-organization
</pre></div>
</div>
<figure class="align-default" id="id21">
<img alt="setting9.png" src="../../../../_images/628dafbd74a18b0047bb8d62.png" />
<figcaption>
<p><span class="caption-text">setting9.png</span><a class="headerlink" href="#id21" title="この画像へのパーマリンク">¶</a></p>
</figcaption>
</figure>
</li>
</ol>
</section>
<section id="id10">
<h2>開発コンテナ環境 起動確認<a class="headerlink" href="#id10" title="この見出しへのパーマリンク">¶</a></h2>
<ol class="arabic">
<li><p>VSCODEを起動し、リモートエクスプローラー(SSH
Targets)から作業対象のコンテナのディレクトリを開きます ※
ita-api-organizationを開きます <img alt="setting10.png" src="../../../../_images/628db0e074a18b0047bb8d63.png" /></p>
<div class="docutils container">
<p>※ VSCODEが起動している場合はすべて閉じてから実行してください</p>
</div>
</li>
<li><p>コンテナで起動 以下の<strong>どちらか</strong>の操作を行います</p>
<ul class="simple">
<li><p>右下の通知に表示される「Reopen in Container」をクリック <img alt="image11" src="../../../../_images/62a31ba074a18b0047bb8e22.png" /></p></li>
<li><p>左下の「&gt;&lt; SSH: develop-server」をクリックし、「Reopen in
Container」を選択 <img alt="image12" src="../../../../_images/62a31c0a74a18b0047bb8e23.png" /></p></li>
</ul>
<p>※ 初回起動時はコンテナのビルドが行われるので暫くかかります ※
２つ同時にコンテナビルドを実行しないようにしてください（ビルドを平行させるとエラーとなります）
※ 起動中、右下に表示される「Starting Dev Container (show
log)」を押下することで、ビルド状況が表示されます、エラーがあった際もこちらに表示されます</p>
<p>コンテナビルド時に以下のメッセージが表示されることがあります（コンテナビルド時はほぼほぼ出ます）
<img alt="image13" src="../../../../_images/62a31cbe74a18b0047bb8e24.png" /> その際は「ウィンドウの再読み込み」をクリックしてください</p>
</li>
<li><p>利用手順 実際にVSCODEで開発をしていく手順は以下に記載しています
<a class="reference external" href="/ExastroPlatform/開発環境/利用方法">/ExastroPlatform/開発環境/利用方法</a></p></li>
</ol>
</section>
</section>
<section id="id11">
<h1><strong>付録</strong><a class="headerlink" href="#id11" title="この見出しへのパーマリンク">¶</a></h1>
<section id="id12">
<h2>VSCODEバージョン一覧<a class="headerlink" href="#id12" title="この見出しへのパーマリンク">¶</a></h2>
<p>以下よりVSCODEのリリース一覧を確認できます
<a class="reference external" href="https://code.visualstudio.com/updates/">https://code.visualstudio.com/updates/</a></p>
<p>インストールは「Windows」のUserリンクをクリックします <img alt="image14" src="../../../../_images/62a7c9a974a18b0047bb8e76.png" /></p>
</section>
</section>


</div>


<div id="articleNavigation">
  <ul>
  </ul>
</div>


<div id="pageTopLink">
  <a href="#container"><i>↑</i> Page Top</a>
</div>

</article>
</div>
</main>
</div><!-- End #contents -->
<div id="footer">
  <footer class="divInner">
    <small>Copyright © 2019-2023 NEC Corporation</small>
    <small><a href="/terms/ja.html">サイト規約</a></small>
  </footer>
</div><!-- End #footer -->

<div id="overlay"></div>
<div id="grayBack"></div>

</div><!-- End #container -->
  </body>
</html>