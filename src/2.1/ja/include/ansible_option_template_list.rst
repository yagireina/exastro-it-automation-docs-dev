
.. tip:: | **変数定義の留意事項**
   | 変数定義の留意事項は以下のとおりです。

   .. table:: 変数定義の留意事項
      :widths: 10 30
      :align: left

      +---------------+------------------------------------------------------+
      | 種類          | 留意事項                                             |
      +===============+======================================================+
      | 通常変数      | 具体値は省略可能です。                               |
      |               |                                                      |
      |               | e.g.)                                                |
      |               |                                                      |
      |               | .. code-block:: yaml                                 |
      |               |                                                      |
      |               |    VAR_sample_1: none                                |
      |               |    VAR_sample_2:                                     |
      |               |                                                      |
      +---------------+------------------------------------------------------+
      | 複\           | 具体値は省略可能です。                               |
      | 数具体値変数  |                                                      |
      |               | e.g.)                                                |
      |               |                                                      |
      |               | .. code-block:: yaml                                 |
      |               |                                                      |
      |               |    VAR_sample_1:                                     |
      |               |      - none                                          |
      |               |    VAR_sample_2: []                                  |
      |               |                                                      |
      +---------------+------------------------------------------------------+
      | 多段変数      | 階層化された変数構造が定義出来ます。                 |
      |               |                                                      |
      |               | e.g.)                                                |
      |               |                                                      |
      |               | .. code-block:: yaml                                 |
      |               |                                                      |
      |               |    VAR_sample_1:                                     |
      |               |      - item1: none                                   |
      |               |        item2:                                        |
      |               |    VAR_sample_2:                                     |
      |               |      - array:                                        |
      |               |          - item1: none                               |
      |               |            item2:                                    |
      |               |                                                      |
      |               | 同名の変数をdefault変数定義ファイルなどに定義\       |
      |               | している場合は、変数定義を合わせる必要があります。変\|
      |               | 数定義が一致していない場合は登録でエラーとなります。 |
      +---------------+------------------------------------------------------+
      | グ\           | 具体値は省略可能です。                               |
      | ローバル変数  |                                                      |
      |               | e.g.)                                                |
      |               |                                                      |
      |               | .. code-block:: yaml                                 |
      |               |                                                      |
      |               |    GBL_sample_1: none                                |
      |               |    GBL_sample_2:                                     |
      |               |                                                      |
      +---------------+------------------------------------------------------+
      | ITA独自変数   | 変数の定義は不要です。                               |
      +---------------+------------------------------------------------------+
             


.. note:: | **テンプレート埋込変数の使用例**

   | テンプレート管理で登録したテンプレートをPlaybookに記述する場合、該当のパラメータにテンプレート埋込変数名を記述します。テンプレート埋込変数名を使用しない場合、代入値自動登録設定で登録した変数や該当ファイルのパスを記述します。
 
   | ※ファイル名にスペースなどが含まれている場合、適切にクォーテーションで囲まないと、作業実行時にエラーになる場合があります。
   
   | Exp) テンプレート管理で登録したhostsファイルをテンプレート埋込変数を使用して作業対象サーバの/etc/配下に設置する場合
 
   #. | テンプレート管理メニューから下記のようにhostsファイルを登録します。

      .. list-table:: テンプレート管理の登録内容
         :widths: 30 40
         :header-rows: 1
         :align: left

         * - テンプレート埋込変数名
           - テンプレート素材
         * - TPF_hosts
           - hosts 


   #. | 下記のようにPlaybookを記述します。
      | ※destはファイル名も記述してください。ファイル名の指定がない場合、登録したテンプレート素材のファイル名の前にITAの管理番号が付与された名前のファイル名で処理されます。
      | 　たとえば、dest=/etc/ とした場合、ファイル名は/etc/10桁の数値_hostsとなります。

      | **Playbookの記述**                                                    
                                                                            

      .. code-block:: yaml                                                  
                                                                            
         - template: src='{{ TPF_hosts }}' dest=/etc/hosts                                                                           

