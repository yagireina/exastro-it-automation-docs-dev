
<!DOCTYPE html>

<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <title>3. ジョブフロー &#8212; Documentation  ドキュメント</title>
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/option.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/exastro_documents.css?v=3" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/swagger/swagger-ui.css" />
    
    <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/sphinx_highlight.js"></script>
    <script src="../../../../_static/clipboard.min.js"></script>
    <script src="../../../../_static/copybutton.js"></script>
    <script src="../../../../_static/translations.js"></script>
    <script src="../../../../_static/jquery-3.6.3.min.js"></script>
    <script src="../../../../_static/exastro_documents.js?v=1"></script>
    <script src="../../../../_static/swagger/swagger-ui-bundle.js"></script>
    <script src="../../../../_static/swagger/swagger-ui-standalone-preset.js"></script>
    <link rel="shortcut icon" href="../../../../_static/favicon.ico"/>
    <link rel="index" title="索引" href="../../../../genindex.html" />
    <link rel="search" title="検索" href="../../../../search.html" />
    <link rel="next" title="マニュアル" href="../../manuals/index.html" />
    <link rel="prev" title="2. パッケージ管理" href="scenario2.html" /> 
  </head>
<body id="page" class="ja">


<div id="container">

<div id="header">
  <header class="divInner">
    <!-- Exastro logo -->
    <div id="logo"><a href="https://ita.exastro.org/"><img src="../../../../_static/img/exastro.svg" alt="Exastro"></a></div>
    <!-- Project name -->
    <div id="projectName"><a href="../../../../index.html">Documentation</a></div>
    <!-- Heaedr navigation -->
    <div id="headerSearch">
      <form class="search" action="../../../../search.html" method="get">
        <input type="text" name="q" aria-labelledby="searchlabel">
        <button type="submit" value="検索"><img src="../../../../_static/img/search.png" alt="検索"></button>
      </form>
    </div>
  </header>
</div><!-- End #header -->


<div id="toolbar">
  <div class="divInner">
    
    <div id="documentVersion">
      <dl>
        <dt>Document version</dt>
        <dd>
          <div>
            <select name="version" onchange="location.href=value;">
                file_path: 2.0/ja/learn/quickstart/scenario3
                  <option value="#"
                  selected
                  >current</option>
                file_path: 2.0/ja/learn/quickstart/scenario3
                  <option value="#"
                  selected
                  >2.0 (current)</option>
                file_path: 2.1/ja/learn/quickstart/scenario3
            </select>
          </div>
        </dd>
      </dl>
    </div>

    <div id="documentLanguage">
      <dl>
        <dt>Language</dt>
        <dd>
          <div>
            <select name="lang" onchange="location.href=value;">
                file_path: 2.0/ja/learn/quickstart/scenario3
                hasdoc: True
                  <option value="#"
                  selected
                  >日本語</option>
                file_path: 2.0/en/learn/quickstart/scenario3
                hasdoc: False
            </select>
          </div>
        </dd>
      </dl>
    </div>
    <div id="toolbarNavigation">
      <ul>
        <li class="prev"><a href="scenario2.html" title="前のトピックへ"><span class="section-number">2. </span>パッケージ管理</a></li>
        <li class="next"><a href="../../manuals/index.html" title="次のトピックへ">マニュアル</a></li>
      </ul>
    </div>
  </div>
</div><!-- End #toolbar -->

<div id="sideMenu">

  <div id="menuButton"></div>
  
  <aside class="divInner">
    <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">Exastro IT Automation Documentation 2.0</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../../index.html#id1">日本語</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../configuration/index.html">構成・構築ガイド</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../installation/index.html">インストール</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">Learn</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="index.html">クイックスタート</a><ul class="current">
<li class="toctree-l5"><a class="reference internal" href="index.html#id2">前提</a></li>
<li class="toctree-l5"><a class="reference internal" href="index.html#id3">各シナリオの流れ</a></li>
<li class="toctree-l5 current"><a class="reference internal" href="index.html#id4">シナリオ</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../manuals/index.html">マニュアル</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/index.html">リファレンス</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/index.html">貢献</a></li>
</ul>
</li>
</ul>
</li>
</ul>

    <!-- <ul>
      <li class="toctree-l1"><a class="reference internal" href="../../../../genindex.html">索引</a></li>
    </ul> -->
    
  </aside>
</div><!-- End #sideMenu -->


<div id="tableOfContents">
  <div id="tocButton"></div>
  <ul>
<li><a class="reference internal" href="#">3. ジョブフロー</a><ul>
<li><a class="reference internal" href="#id2">3.1. 作業概要の作成</a><ul>
<li><a class="reference internal" href="#id3">3.1.1. 作業概要登録</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id4">3.2. パラメータ設計</a></li>
<li><a class="reference internal" href="#id5">3.3. 作業対象の登録</a><ul>
<li><a class="reference internal" href="#id6">3.3.1. 機器情報の更新</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id7">3.4. 作業手順の登録</a><ul>
<li><a class="reference internal" href="#id8">3.4.1. ジョブフローの作成</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id9">3.5. サーバー再構築作業の実施</a><ul>
<li><a class="reference internal" href="#id10">3.5.1. パラメータ設定</a></li>
<li><a class="reference internal" href="#id11">3.5.2. 作業実行</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id12">3.6. まとめ</a></li>
</ul>
</li>
</ul>

</div>


<div id="contents">
<main class="divInner">

 <div id="breadcrumbs">
  <ul>
    <li><a href="../../../../index.html">HOME</a></li>
    <li><a href="../../../index.html">Exastro IT Automation Documentation 2.0</a></li>
    <li><a href="../index.html">Learn</a></li>
    <li><a href="index.html">クイックスタート</a></li>
    
    <li><span class="section-number">3. </span>ジョブフロー</li>
  </ul>
</div>

<div id="article">
<article class="divInner">
<div class="body" role="main">

  <section id="id1">
<h1><span class="section-number">3. </span>ジョブフロー<a class="headerlink" href="#id1" title="この見出しへのパーマリンク">¶</a></h1>
<div class="line-block">
<div class="line">本シナリオでは、<a class="reference internal" href="scenario2.html"><span class="doc">前のシナリオ</span></a> で構築したデータベース用のサーバを Web サーバに作り直す作業を題材にして、複数のジョブを一連の流れで実行するための方法について学習します。</div>
<div class="line">具体的には、</div>
</div>
<ol class="arabic simple">
<li><p><a class="reference internal" href="scenario1.html"><span class="doc">ホスト名管理</span></a> で実施したホスト名変更作業により db01 から web01 にホスト名を変更</p></li>
<li><p><a class="reference internal" href="scenario2.html"><span class="doc">パッケージ管理</span></a> で実施したパッケージのインストールを使って DB 用のパッケージをアンインストール後に、Web サーバ用のパッケージをインストール</p></li>
</ol>
<div class="line-block">
<div class="line">を実施します。</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>本シナリオに入る前に、  <a class="reference internal" href="scenario1.html"><span class="doc">ホスト名管理</span></a> と <a class="reference internal" href="scenario2.html"><span class="doc">パッケージ管理</span></a> を完了させておく必要があります。</p>
</div>
<section id="id2">
<h2><span class="section-number">3.1. </span>作業概要の作成<a class="headerlink" href="#id2" title="この見出しへのパーマリンク">¶</a></h2>
<div class="line-block">
<div class="line"><a class="reference internal" href="scenario2.html"><span class="doc">前のシナリオ</span></a> と同様に、まずは作業計画を立てましょう。</div>
</div>
<table class="docutils align-default" id="id13">
<caption><span class="caption-number">表 3.2 </span><span class="caption-text">作業の方針</span><a class="headerlink" href="#id13" title="このテーブルへのパーマリンク">¶</a></caption>
<colgroup>
<col style="width: 60%" />
<col style="width: 40%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>作業実施日時</p></td>
<td><p>2023/04/03 12:00:00</p></td>
</tr>
<tr class="row-even"><td><p>作業対象</p></td>
<td><p>db01(RHEL8)</p></td>
</tr>
<tr class="row-odd"><td><p>作業内容</p></td>
<td><p>Webサーバーへの作り直し</p></td>
</tr>
</tbody>
</table>
<section id="id3">
<h3><span class="section-number">3.1.1. </span>作業概要登録<a class="headerlink" href="#id3" title="この見出しへのパーマリンク">¶</a></h3>
<div class="line-block">
<div class="line"><span class="menuselection">基本コンソール ‣ オペレーション一覧</span> から、作業実施日時や作業名を登録します。</div>
</div>
<table class="docutils align-default" id="id14">
<caption><span class="caption-number">表 3.3 </span><span class="caption-text">オペレーション登録内容</span><a class="headerlink" href="#id14" title="このテーブルへのパーマリンク">¶</a></caption>
<colgroup>
<col style="width: 60%" />
<col style="width: 40%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>オペレーション名</p></th>
<th class="head"><p>実施予定日時</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><kbd class="kbd docutils literal notranslate">Webサーバーへの再構築</kbd></p></td>
<td><p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">2023/04/03</kbd> <kbd class="kbd docutils literal notranslate">12:00:00</kbd></kbd></p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="id4">
<h2><span class="section-number">3.2. </span>パラメータ設計<a class="headerlink" href="#id4" title="この見出しへのパーマリンク">¶</a></h2>
<div class="line-block">
<div class="line">本シナリオでは、 <a class="reference internal" href="scenario1.html"><span class="doc">ホスト名管理</span></a> と <a class="reference internal" href="scenario2.html"><span class="doc">パッケージ管理</span></a> で作成したパラメータシート(データシート)を使って、パラメーターの投入を行うため、パラメータシートを新たに作成する必要はありません。</div>
</div>
</section>
<section id="id5">
<h2><span class="section-number">3.3. </span>作業対象の登録<a class="headerlink" href="#id5" title="この見出しへのパーマリンク">¶</a></h2>
<div class="line-block">
<div class="line">作業実施を行う対象機器の登録情報を更新します。</div>
</div>
<section id="id6">
<h3><span class="section-number">3.3.1. </span>機器情報の更新<a class="headerlink" href="#id6" title="この見出しへのパーマリンク">¶</a></h3>
<div class="line-block">
<div class="line">作業対象となるサーバーは <a class="reference internal" href="scenario2.html"><span class="doc">前のシナリオ</span></a> で登録した db01 を利用しますが、今回は DB サーバーを Web サーバーに作り直すため、ホスト名を更新しておきます。</div>
<div class="line">作業対象となるサーバー db01 のホスト名を web01 に変更します。</div>
</div>
<div class="line-block">
<div class="line"><span class="menuselection">Ansible共通 ‣ 機器一覧</span> から、作業対象である db01 のホスト名を web01 に更新します。</div>
</div>
<table class="docutils align-default" id="id15">
<caption><span class="caption-number">表 3.4 </span><span class="caption-text">機器一覧の設定値</span><a class="headerlink" href="#id15" title="このテーブルへのパーマリンク">¶</a></caption>
<colgroup>
<col style="width: 13%" />
<col style="width: 13%" />
<col style="width: 25%" />
<col style="width: 13%" />
<col style="width: 13%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>HW機器種別</p></th>
<th class="head"><p>ホスト名</p></th>
<th class="head"><p>IPアドレス</p></th>
<th class="head"><p>ログインパスワード</p></th>
<th class="head"></th>
<th class="head"><p>Ansible利用情報</p></th>
</tr>
<tr class="row-even"><th class="head"></th>
<th class="head"></th>
<th class="head"></th>
<th class="head"><p>ユーザ</p></th>
<th class="head"><p>パスワード</p></th>
<th class="head"><p>Legacy/Role利用情報</p></th>
</tr>
<tr class="row-odd"><th class="head"></th>
<th class="head"></th>
<th class="head"></th>
<th class="head"></th>
<th class="head"></th>
<th class="head"><p>認証方式</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><kbd class="kbd docutils literal notranslate">SV</kbd></p></td>
<td><p><kbd class="kbd docutils literal notranslate">web01</kbd></p></td>
<td><p><kbd class="kbd docutils literal notranslate">192.168.0.1</kbd> ※適切なIPアドレスを設定</p></td>
<td><p><kbd class="kbd docutils literal notranslate">root</kbd></p></td>
<td><p>(パスワード)</p></td>
<td><p><kbd class="kbd docutils literal notranslate">パスワード認証</kbd></p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="id7">
<h2><span class="section-number">3.4. </span>作業手順の登録<a class="headerlink" href="#id7" title="この見出しへのパーマリンク">¶</a></h2>
<div class="line-block">
<div class="line">本シナリオでは、 <a class="reference internal" href="scenario1.html"><span class="doc">ホスト名管理</span></a> と <a class="reference internal" href="scenario2.html"><span class="doc">パッケージ管理</span></a> で作成した下記の Movement を使うため、新たに Movement を作成する必要はありません。</div>
</div>
<ul class="simple">
<li><p>ホスト名設定</p></li>
<li><p>パッケージ管理</p></li>
</ul>
<div class="line-block">
<div class="line">しかし、これまでは Movement を単体で実行していましたが、これらを逐次実行するにはどうすればよいでしょうか。</div>
</div>
<section id="id8">
<h3><span class="section-number">3.4.1. </span>ジョブフローの作成<a class="headerlink" href="#id8" title="この見出しへのパーマリンク">¶</a></h3>
<div class="line-block">
<div class="line">複数の Movement を一連の作業として実行する方法に、Conductor という仕組みがあります。</div>
<div class="line">Conductor を利用することで、複数の Movement をまとめて実行できるだけでなく、Movement の実行結果に応じて、後続処理を分岐させたり、ユーザ確認の為に一時停止するといった複雑なロジックを組み込む事が可能です。</div>
</div>
<div class="line-block">
<div class="line"><span class="menuselection">Conductor ‣ Conductor編集/作業実行</span> から、ジョブフローを定義します。</div>
</div>
<div class="line-block">
<div class="line">1. 右上のペイン <span class="menuselection">Conductor情報 ‣ 名称</span>  に、 <kbd class="kbd docutils literal notranslate">サーバー構築</kbd> と入力します。</div>
<div class="line">2. 右下のペインに、 <a class="reference internal" href="scenario1.html"><span class="doc">ホスト名管理</span></a> と <a class="reference internal" href="scenario2.html"><span class="doc">パッケージ管理</span></a> で作成した <kbd class="kbd docutils literal notranslate">ホスト名設定</kbd> と <kbd class="kbd docutils literal notranslate">パッケージ管理</kbd> の2つの Movement があります。これらを画面中央にドラッグアンドドロップします。</div>
<div class="line">3. 各 Node 間を下記の様に接続します。</div>
</div>
<table class="docutils align-default" id="id16">
<caption><span class="caption-number">表 3.5 </span><span class="caption-text">Node 間の接続</span><a class="headerlink" href="#id16" title="このテーブルへのパーマリンク">¶</a></caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>OUT</p></th>
<th class="head"><p>IN</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><kbd class="kbd docutils literal notranslate">Start</kbd></p></td>
<td><p><kbd class="kbd docutils literal notranslate">ホスト名設定</kbd></p></td>
</tr>
<tr class="row-odd"><td><p><kbd class="kbd docutils literal notranslate">ホスト名設定</kbd></p></td>
<td><p><kbd class="kbd docutils literal notranslate">パッケージ管理</kbd></p></td>
</tr>
<tr class="row-even"><td><p><kbd class="kbd docutils literal notranslate">パッケージ管理</kbd></p></td>
<td><p><kbd class="kbd docutils literal notranslate">End</kbd></p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line">4. 画面上部にある、 <span class="guilabel"> 登録</span> を押下します。</div>
</div>
</section>
</section>
<section id="id9">
<h2><span class="section-number">3.5. </span>サーバー再構築作業の実施<a class="headerlink" href="#id9" title="この見出しへのパーマリンク">¶</a></h2>
<div class="line-block">
<div class="line">本シナリオでは、db01 というホストに対して、 <kbd class="kbd docutils literal notranslate">httpd</kbd> というパッケージをインストールしますが、前のシナリオで <kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">mariadb</kbd>-<kbd class="kbd docutils literal notranslate">server</kbd></kbd> というパッケージがインストール済みの状態となっています。</div>
<div class="line">db01 というホストを web01 という Web サーバーに作り変えるため、ホスト名と導入パッケージを変更する必要があります。</div>
</div>
<table class="docutils align-default" id="id17">
<caption><span class="caption-number">表 3.6 </span><span class="caption-text">サーバー再構築作業による変更内容</span><a class="headerlink" href="#id17" title="このテーブルへのパーマリンク">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 38%" />
<col style="width: 38%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>項目</p></th>
<th class="head"><p>変更前</p></th>
<th class="head"><p>変更後</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ホスト名</p></td>
<td><p><kbd class="kbd docutils literal notranslate">db01</kbd></p></td>
<td><p><kbd class="kbd docutils literal notranslate">web01</kbd></p></td>
</tr>
<tr class="row-odd"><td><p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">mariadb</kbd>-<kbd class="kbd docutils literal notranslate">server</kbd></kbd> パッケージ</p></td>
<td><p>インストール済み</p></td>
<td><p>アンインストール済み</p></td>
</tr>
<tr class="row-even"><td><p><kbd class="kbd docutils literal notranslate">httpd</kbd> パッケージ</p></td>
<td><p>未インストール</p></td>
<td><p>インストール済み</p></td>
</tr>
</tbody>
</table>
<section id="id10">
<h3><span class="section-number">3.5.1. </span>パラメータ設定<a class="headerlink" href="#id10" title="この見出しへのパーマリンク">¶</a></h3>
<div class="line-block">
<div class="line"><span class="menuselection">入力用 ‣ 導入パッケージ</span> から、ホストに対するパラメータを登録します。</div>
</div>
<table class="docutils align-default" id="id18">
<caption><span class="caption-number">表 3.7 </span><span class="caption-text">導入パッケージパラメータの設定値</span><a class="headerlink" href="#id18" title="このテーブルへのパーマリンク">¶</a></caption>
<colgroup>
<col style="width: 11%" />
<col style="width: 44%" />
<col style="width: 11%" />
<col style="width: 22%" />
<col style="width: 11%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ホスト名</p></th>
<th class="head"><p>オペレーション</p></th>
<th class="head"><p>パラメータ</p></th>
<th class="head"><p>代入順序</p></th>
<th class="head"></th>
</tr>
<tr class="row-even"><th class="head"></th>
<th class="head"><p>オペレーション名</p></th>
<th class="head"></th>
<th class="head"><p>パッケージ名</p></th>
<th class="head"><p>状態</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>db01</p></td>
<td><p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">2023/04/03</kbd> <kbd class="kbd docutils literal notranslate">12:00:00_Webサーバーへの再構築</kbd></kbd></p></td>
<td><p><kbd class="kbd docutils literal notranslate">1</kbd></p></td>
<td><p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">mariadb</kbd>-<kbd class="kbd docutils literal notranslate">server</kbd></kbd></p></td>
<td><p><kbd class="kbd docutils literal notranslate">absent</kbd></p></td>
</tr>
<tr class="row-even"><td><p>db01</p></td>
<td><p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">2023/04/03</kbd> <kbd class="kbd docutils literal notranslate">12:00:00_Webサーバーへの再構築</kbd></kbd></p></td>
<td><p><kbd class="kbd docutils literal notranslate">1</kbd></p></td>
<td><p><kbd class="kbd docutils literal notranslate">httpd</kbd></p></td>
<td><p><kbd class="kbd docutils literal notranslate">present</kbd></p></td>
</tr>
</tbody>
</table>
</section>
<section id="id11">
<h3><span class="section-number">3.5.2. </span>作業実行<a class="headerlink" href="#id11" title="この見出しへのパーマリンク">¶</a></h3>
<ol class="arabic">
<li><p>事前確認</p>
<div class="line-block">
<div class="line">現在のサーバーの状態を確認しましょう。</div>
</div>
<div class="line-block">
<div class="line">ホスト名を確認します。</div>
</div>
<div class="literal-block-wrapper docutils container" id="id19">
<div class="code-block-caption"><span class="caption-number">リスト 3.9 </span><span class="caption-text">コマンド</span><a class="headerlink" href="#id19" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ホスト名の取得</span>
hostnamectl<span class="w"> </span>status<span class="w"> </span>--static
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id20">
<div class="code-block-caption"><span class="caption-number">リスト 3.10 </span><span class="caption-text">実行結果</span><a class="headerlink" href="#id20" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>db01
</pre></div>
</div>
</div>
<div class="line-block">
<div class="line">サーバに SSH ログインし、パッケージのインストール状態を確認します。</div>
</div>
<div class="literal-block-wrapper docutils container" id="id21">
<div class="code-block-caption"><span class="caption-number">リスト 3.11 </span><span class="caption-text">コマンド</span><a class="headerlink" href="#id21" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rpm<span class="w"> </span>-q<span class="w"> </span>mariadb-server
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id22">
<div class="code-block-caption"><span class="caption-number">リスト 3.12 </span><span class="caption-text">実行結果</span><a class="headerlink" href="#id22" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># 環境ごとにバージョンは異なります</span>
mariadb-server-10.3.35-1.module+el8.6.0+15949+4ba4ec26.x86_64
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id23">
<div class="code-block-caption"><span class="caption-number">リスト 3.13 </span><span class="caption-text">コマンド</span><a class="headerlink" href="#id23" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rpm<span class="w"> </span>-q<span class="w"> </span>httpd
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id24">
<div class="code-block-caption"><span class="caption-number">リスト 3.14 </span><span class="caption-text">実行結果</span><a class="headerlink" href="#id24" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>package<span class="w"> </span>httpd<span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>installed
</pre></div>
</div>
</div>
</li>
<li><p>作業実行</p>
<div class="line-block">
<div class="line"><span class="menuselection">Conductor ‣ Conductor編集/作業実行</span> から、<span class="guilabel"> 選択</span> を押下します。</div>
<div class="line"><kbd class="kbd docutils literal notranslate">サーバー構築</kbd> Conductor を選択し、<span class="guilabel">選択決定</span> を押下します。</div>
<div class="line">次に、画面上部の <span class="guilabel"> 作業実行</span> で、オペレーションに <kbd class="kbd docutils literal notranslate">Webサーバーへの再構築</kbd> を選択し、<span class="guilabel">作業実行</span> を押下します。</div>
</div>
<div class="line-block">
<div class="line"><span class="menuselection">Conductor作業確認</span> 画面が開き、実行が完了した後に、全ての Movement のステータスが「Done」になったことを確認します。</div>
</div>
</li>
</ol>
<ol class="arabic" start="4">
<li><p>事後確認</p>
<div class="line-block">
<div class="line">再度サーバに SSH ログインし、Web サーバーに作り直しされていることを確認します。</div>
</div>
<div class="line-block">
<div class="line">ホスト名を確認します。</div>
</div>
<div class="literal-block-wrapper docutils container" id="id25">
<div class="code-block-caption"><span class="caption-number">リスト 3.15 </span><span class="caption-text">コマンド</span><a class="headerlink" href="#id25" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ホスト名の取得</span>
hostnamectl<span class="w"> </span>status<span class="w"> </span>--static
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id26">
<div class="code-block-caption"><span class="caption-number">リスト 3.16 </span><span class="caption-text">実行結果</span><a class="headerlink" href="#id26" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>web01
</pre></div>
</div>
</div>
<div class="line-block">
<div class="line">サーバに SSH ログインし、パッケージのインストール状態を確認します。</div>
</div>
<div class="literal-block-wrapper docutils container" id="id27">
<div class="code-block-caption"><span class="caption-number">リスト 3.17 </span><span class="caption-text">コマンド</span><a class="headerlink" href="#id27" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rpm<span class="w"> </span>-q<span class="w"> </span>mariadb-server
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id28">
<div class="code-block-caption"><span class="caption-number">リスト 3.18 </span><span class="caption-text">実行結果</span><a class="headerlink" href="#id28" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># 環境ごとにバージョンは異なります</span>
is<span class="w"> </span>not<span class="w"> </span>installed
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id29">
<div class="code-block-caption"><span class="caption-number">リスト 3.19 </span><span class="caption-text">コマンド</span><a class="headerlink" href="#id29" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rpm<span class="w"> </span>-q<span class="w"> </span>httpd
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id30">
<div class="code-block-caption"><span class="caption-number">リスト 3.20 </span><span class="caption-text">実行結果</span><a class="headerlink" href="#id30" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>httpd-2.4.37-51.module+el8.7.0+18026+7b169787.1.x86_64
</pre></div>
</div>
</div>
</li>
</ol>
</section>
</section>
<section id="id12">
<h2><span class="section-number">3.6. </span>まとめ<a class="headerlink" href="#id12" title="この見出しへのパーマリンク">¶</a></h2>
<div class="line-block">
<div class="line">本シナリオでは、DB サーバーを Web サーバーに再構築するシナリオを通して、Exastro IT Automation のジョブフローである Conductor の運用方法について紹介をしました。</div>
</div>
<ul class="simple">
<li><p>Conductor を利用することで、複数の Movement をまとめて実行することが可能です。</p></li>
<li><p>Conductor は様々な制御機能を持っています。</p></li>
</ul>
</section>
</section>


</div>


<div id="articleNavigation">
  <ul>
    <li class="prev"><a href="scenario2.html" title="前のトピックへ"><span>前のトピックへ</span><span class="section-number">2. </span>パッケージ管理</a></li>
    <li class="next"><a href="../../manuals/index.html" title="次のトピックへ"><span>次のトピックへ</span>マニュアル</a></li>
  </ul>
</div>


<div id="pageTopLink">
  <a href="#container"><i>↑</i> Page Top</a>
</div>

</article>
</div>
</main>
</div><!-- End #contents -->
<div id="footer">
  <footer class="divInner">
    <small>Copyright © 2019-2023 NEC Corporation</small>
    <small><a href="/terms/ja.html">サイト規約</a></small>
  </footer>
</div><!-- End #footer -->

<div id="overlay"></div>
<div id="grayBack"></div>

</div><!-- End #container -->
  </body>
</html>